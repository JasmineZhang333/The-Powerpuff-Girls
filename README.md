# 攀岩次卡共享小程序 🎿🧗‍♀️

一个专注于攀岩爱好者次卡共享与管理的小程序,帮助岩友高效管理和共享次卡资源。

## 📋 目录

- [项目简介](#项目简介)
- [功能特性](#功能特性)
- [技术架构](#技术架构)
- [使用指南](#使用指南)
- [数据管理](#数据管理)
- [安装部署](#安装部署)
- [贡献指南](#贡献指南)
- [许可证](#许可证)

## 项目简介

### 背景

攀岩运动日益普及,但次卡价格较高且存在使用期限。通过小程序,岩友可以:
- 共享多余的次卡资源
- 快速查找可用的次卡
- 便捷的使用和管理次卡
- 实现数据本地化存储,完全免费使用

### 目标用户

- 攀岩爱好者
- 攀岩馆常客
- 攀岩社群成员

## 功能特性

### 1. 次卡广场 📦

展示所有可共享的次卡信息:
- 按岩馆分组显示
- 显示持卡人、价格、剩余次数
- 显示截止日期和状态标签
- 搜索功能快速查找

### 2. 一键上墙 🎿 (核心功能)

快速刷卡使用次卡:
- **用户切换**: 支持10位岩友身份选择
- **快速选择**: 一键选择要使用的次卡
- **自动记录**: 使用后自动扣除次数并生成记录
- **使用历史**: 查看最近使用记录

### 3. 我的 👤

个人中心功能:
- **我的次卡**: 查看自己持有的次卡
- **我刷的卡**: 查看使用他人的刷卡记录
- **身份切换**: 切换不同的身份(办卡人/共同使用者)

### 4. 管理 ⚙️

数据管理功能:
- **添加次卡**: 新增次卡信息
- **编辑/删除**: 修改或移除次卡
- **导出数据**: 将数据导出为JSON文件分享
- **导入数据**: 从JSON文件导入数据
- **清空数据**: 清空所有数据(谨慎使用)

## 技术架构

### 前端框架

- **微信小程序原生开发**
- **WXML**: 页面结构
- **WXSS**: 样式设计
- **JavaScript**: 业务逻辑
- **JSON**: 配置管理

### 数据存储

**本地存储方案** (完全免费)
- `wx.getStorageSync()`: 读取本地数据
- `wx.setStorageSync()`: 保存本地数据
- 数据格式: JSON
- 存储路径: 用户设备本地

**数据结构**

```javascript
// 次卡数据结构
{
  _id: "card_xxx",           // 唯一标识
  gym_name: "岩馆名称",       // 岩馆名称
  owner_name: "持卡人",       // 持卡人姓名
  price_per_time: 95,        // 单次价格
  total_times: 10,           // 总次数
  remain_times: 8,           // 剩余次数
  expiry_date: "2027-12-31",// 截止日期
  phone: "13800138000",      // 联系电话
  shared_with: ["小王"],      // 共享对象
  status: "active",          // 状态:active/expired
  created_at: "2025-01-01"   // 创建时间
}

// 使用记录结构
{
  _id: "log_xxx",            // 唯一标识
  card_id: "card_xxx",       // 次卡ID
  gym_name: "岩馆名称",       // 岩馆名称
  user_name: "使用者",        // 使用者姓名
  use_date: "2025-01-20",   // 使用时间
  use_count: 1,              // 使用次数
  cost_at_time: 95           // 当时价格
}
```

### 项目结构

```
thePowerpuffGirls/
├── miniprogram/
│   ├── app.js              # 应用入口
│   ├── app.json            # 应用配置
│   ├── app.wxss            # 全局样式
│   ├── images/             # 图片资源
│   │   └── tabbar/        # TabBar图标
│   └── pages/              # 页面
│       ├── index/          # 次卡广场
│       ├── quick-use/      # 一键上墙
│       ├── profile/        # 我的
│       ├── card-detail/    # 次卡详情
│       └── admin/          # 数据管理
├── project.config.json     # 项目配置
├── README.md               # 项目文档
└── .gitignore             # Git忽略配置
```

## 使用指南

### 首次使用

1. **打开小程序**: 在微信中搜索或扫码进入
2. **选择身份**: 在"我的"页面选择当前用户
3. **查看次卡**: 在"次卡广场"浏览可共享的次卡
4. **开始使用**: 使用"一键上墙"功能刷卡

### 刷卡流程

```
1. 点击底部"一键上墙"tab
2. 确认当前用户身份(如:阿卓)
3. 选择要使用的次卡(如:CAMP4 - ¥95/次)
4. 点击"使用"按钮
5. 确认使用
6. 自动完成:
   - 扣除1次
   - 记录使用信息
```

### 数据分享

**导出数据(分享给其他用户)**:
1. 进入"管理"页面
2. 点击"导出数据"
3. 生成JSON文件
4. 通过微信分享给其他用户

**导入数据(同步他人数据)**:
1. 进入"管理"页面
2. 点击"导入数据"
3. 选择接收的JSON文件
4. 确认导入(会覆盖本地数据)

## 数据管理

### 持卡人列表

| 姓名 | 联系方式 | 拥有的岩馆 |
|------|---------|-----------|
| 阿卓 | 18612261453 | Bloc1、一起攀岩、CAMP4、COB/COG、飞猫、我攀、青山、Mellow |
| 周周 | 18340325013 | 日坛、青藤、岩时、Bloc1、COB |
| 小又 | 13520196361 | 先锋 |
| 张小葱 | 15652171866 | 北顶、我攀、一直 |
| 土豆 | 19545331524 | 日坛 |
| 小姜 | - | (待添加) |
| 大块头 | - | (待添加) |
| 茄子 | - | (待添加) |
| 小糕 | - | (待添加) |
| 徐高兴 | - | (待添加) |

### 岩馆列表

支持的岩馆包括:
- **Bloc1**: ¥88/次
- **一起攀岩**: ¥95/次
- **CAMP4**: ¥95/次
- **COB/COG**: ¥90/次
- **飞猫**: ¥82/次
- **我攀**: ¥111/次
- **青山**: ¥85/次
- **Mellow**: ¥94/次
- **日坛**: ¥87-88/次
- **青藤**: ¥95/次
- **岩时**: ¥104/次
- **北顶**: ¥92.5/次
- **先锋**: ¥99/次
- **一直**: ¥85/次

## 安装部署

### 环境要求

- 微信开发者工具 (最新版本)
- Node.js (用于图标转换等工具)

### 本地开发

1. **克隆项目**:
```bash
git clone https://github.com/JasmineZhang333/The-Powerpuff-Girls.git
cd The-Powerpuff-Girls
```

2. **打开项目**:
- 启动微信开发者工具
- 点击"导入项目"
- 选择项目根目录
- 填写AppID: `wxf17a90b37bb06969`

3. **开发调试**:
- 在微信开发者工具中点击"编译"
- 使用真机预览功能测试
- 修改代码后自动热重载

### 构建发布

1. **测试完成**:
- 确保所有功能正常运行
- 检查数据存储是否正常
- 测试导入导出功能

2. **上传代码**:
- 点击微信开发者工具"上传"按钮
- 填写版本号和备注
- 提交审核

3. **发布版本**:
- 在微信后台审核通过后发布
- 生成小程序二维码分享

## 贡献指南

### 反馈问题

如发现问题或有功能建议:
- 在GitHub Issues中提交
- 描述问题现象和复现步骤
- 附上截图或日志

### 参与开发

1. Fork本项目
2. 创建功能分支 (`git checkout -b feature/xxx`)
3. 提交更改 (`git commit -m 'Add xxx'`)
4. 推送到分支 (`git push origin feature/xxx`)
5. 创建Pull Request

### 扩展功能

欢迎贡献新功能:
- 添加新的岩馆支持
- 优化用户界面
- 改进数据导入导出
- 增加统计分析功能

## 许可证

本项目仅供学习和交流使用。

---

## 更新日志

### v1.0 (2026-02-04)

- ✨ **一键上墙功能**: 快速刷卡使用次卡
- 👥 **用户系统**: 支持10位岩友身份切换
- 📱 **完整功能**: 次卡广场、我的、管理等
- 💾 **本地存储**: 完全免费的数据管理
- 📤 **数据分享**: 导入导出JSON文件
- 🎨 **UI优化**: 深色主题,攀岩风格设计

---

## 联系方式

- **GitHub**: [The-Powerpuff-Girls](https://github.com/JasmineZhang333/The-Powerpuff-Girls)
- **小程序**: 扫码或搜索"攀岩次卡共享"

Happy Climbing! 🧗‍♂️🧗‍♀️🎿
